{"version":3,"file":"js/730.01ce1794.js","mappings":"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","sources":["webpack://myfrontend/./src/views/CartPage.vue?0451","webpack://myfrontend/src/views/CartPage.vue","webpack://myfrontend/./src/views/CartPage.vue?6bd6","webpack://myfrontend/./src/views/CartPage.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hero is-fullheight\",staticStyle:{\"background-color\":\"#1a132f\"}},[_c('div',{staticStyle:{\"margin\":\"6rem\"}},[_c('p',{staticClass:\"is-size-2 has-text-white\"},[_vm._v(\"ตระกร้าสินค้า\")]),_vm._l((_vm.myCart.ticket),function(item,index){return _c('div',{key:item.index,staticClass:\"hero-body is-large has-background-white mt-5 p-4\"},[_c('label',{staticClass:\"checkbox mr-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.checked),expression:\"item.checked\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(item.checked)?_vm._i(item.checked,null)>-1:(item.checked)},on:{\"change\":[function($event){var $$a=item.checked,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(item, \"checked\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(item, \"checked\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(item, \"checked\", $$c)}},_vm.selectedBook]}})]),_c('img',{staticClass:\"image mr-6\",attrs:{\"src\":_vm.apiURL + item.pic,\"alt\":\"รูปตั๋ว\",\"width\":\"200rem\",\"height\":\"100rem\"}}),_c('div',{staticStyle:{\"width\":\"13rem\"}},[_c('p',{staticClass:\"has-text-black is-size-5\"},[_vm._v(_vm._s(item.nameOfticket))]),_c('p',[_vm._v(_vm._s(item.price)+\"฿\")]),_c('p',[_vm._v(_vm._s(item.ticket))]),_c('p',[_vm._v(\"วันเข้าชม \"+_vm._s(item.myDate)+\" \"+_vm._s(index))])]),_c('div',{staticClass:\"control\",staticStyle:{\"margin-top\":\"4rem\",\"margin-left\":\"17rem\"}},[_c('button',{staticClass:\"button m-2\",on:{\"click\":function($event){return _vm.lowquantity(index)}}},[_vm._v(\"-\")]),_c('button',{staticClass:\"button m-2\"},[_vm._v(_vm._s(item.quantity))]),_c('button',{staticClass:\"button m-2\",on:{\"click\":function($event){return _vm.addQuantity(index)}}},[_vm._v(\"+\")])])])})],2),_c('div',{staticClass:\"has-background-white level\",staticStyle:{\"position\":\"sticky\"}},[_c('div',{staticClass:\"hero-body p-5 level-left\"},[_c('label',{staticClass:\"checkbox mr-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.check),expression:\"check\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.check)?_vm._i(_vm.check,null)>-1:(_vm.check)},on:{\"change\":[function($event){var $$a=_vm.check,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.check=$$a.concat([$$v]))}else{$$i>-1&&(_vm.check=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.check=$$c}},_vm.allselected]}})]),_c('p',[_vm._v(\"ทั้งหมด\")])]),_c('div',{staticClass:\"hero-body level-right p-0\"},[_c('p',{staticClass:\"mr-6\"},[_vm._v(_vm._s(_vm.total))]),_c('div',{staticClass:\"has-background-link has-text-white p-5\",on:{\"click\":_vm.addToConfirm}},[_c('router-link',{staticClass:\"has-text-white\",attrs:{\"to\":\"/user/confirm\"}},[_c('p',[_vm._v(\"ชำระแล้ว\")])])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"hero is-fullheight\" style=\"background-color: #1a132f\">\r\n    <div style=\"margin: 6rem\">\r\n      <p class=\"is-size-2 has-text-white\">ตระกร้าสินค้า</p>\r\n      <div\r\n        class=\"hero-body is-large has-background-white mt-5 p-4\"\r\n        v-for=\"item, index in myCart.ticket\"\r\n        :key=\"item.index\"\r\n      >\r\n        <label class=\"checkbox mr-6\">\r\n          <input\r\n            type=\"checkbox\"\r\n            v-model=\"item.checked\"\r\n            @change=\"selectedBook\"\r\n          />\r\n        </label>\r\n        <img\r\n          :src=\"apiURL + item.pic\"\r\n          alt=\"รูปตั๋ว\"\r\n          width=\"200rem\"\r\n          height=\"100rem\"\r\n          class=\"image mr-6\"\r\n        />\r\n        <div style=\"width: 13rem\">\r\n          <p class=\"has-text-black is-size-5\">{{ item.nameOfticket }}</p>\r\n          <p>{{ item.price }}฿</p>\r\n          <p>{{ item.ticket }}</p>\r\n          <p>วันเข้าชม {{ item.myDate }} {{index}}</p>\r\n            \r\n        </div>\r\n        <!-- <div> -->\r\n        <div class=\"control\" style=\"margin-top: 4rem; margin-left: 17rem\">\r\n          <button class=\"button m-2\" @click=\"lowquantity(index)\">-</button>\r\n          <button class=\"button m-2\" >{{ item.quantity }}</button>\r\n          <button class=\"button m-2\" @click=\"addQuantity(index)\">+</button>\r\n        </div>\r\n        <!-- </div> -->\r\n      </div>\r\n    </div>\r\n    <div class=\"has-background-white level\" style=\"position: sticky\">\r\n      <div class=\"hero-body p-5 level-left\">\r\n        <label class=\"checkbox mr-4\">\r\n          <input\r\n            type=\"checkbox\"\r\n            v-model=\"check\"\r\n            @change=\"allselected\"\r\n          /> </label\r\n        >\r\n        <p>ทั้งหมด</p>\r\n      </div>\r\n      <div class=\"hero-body level-right p-0\">\r\n        <!-- <p class=\"mr-6\" >รวมทั้งหมด {{total}} บาท</p> -->\r\n        <p class=\"mr-6\">{{ total }}</p>\r\n        <div class=\"has-background-link has-text-white p-5\" @click=\"addToConfirm\">\r\n          <!-- @click=\"selectedBook\" -->\r\n          <router-link to=\"/user/confirm\" class=\"has-text-white\">\r\n            <p>ชำระแล้ว</p>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      myCart: [],\r\n      total: 0,\r\n      apiURL: \"http://3.215.49.113:3000\",\r\n      filter1: [],\r\n      check: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.showCart();\r\n    this.selectedBook() \r\n  },\r\n  computed: {\r\n    // totalPrice(){\r\n    //    let selectedBook = this.myCart.ticket.filter((val)=> val.checked === true);\r\n    //     console.log(selectedBook)\r\n    //     console.log(selectedBook.length)\r\n    //     for (let i=0; i< selectedBook.length; i++){\r\n    //         console.log(selectedBook[i])\r\n    //         this.total += selectedBook[i].quantity  * selectedBook[i].price\r\n    //     }\r\n    //     console.log(this.total)\r\n    //     return 0;\r\n    // }\r\n  },\r\n  methods: {\r\n    showCart() {\r\n      // var test = JSON.parse(localStorage.getItem('myCart'))\r\n      this.myCart = JSON.parse(localStorage.getItem(\"myCart\"));\r\n    //   this.myCart.ticket.checked = false\r\n    },\r\n    selectedBook() {\r\n      if (this.total !== 0) {\r\n        this.total = 0;\r\n      }\r\n      let selectedBook = this.myCart.ticket.filter(\r\n        (val) => val.checked === true\r\n      );\r\n      console.log(selectedBook);\r\n      console.log(selectedBook.length);\r\n      for (let i = 0; i < selectedBook.length; i++) {\r\n        // console.log(selectedBook[i])\r\n        this.total += selectedBook[i].quantity * selectedBook[i].price;\r\n      }\r\n      console.log(this.total);\r\n    },\r\n    allselected() {\r\n      // let selectedBookF = this.myCart.ticket.filter((val)=> val.checked === false);\r\n      // let selectedBookT = this.myCart.ticket.filter((val)=> val.checked === true);\r\n      // console.log(\"-----******-------\")\r\n      // console.log(this.myCart.ticket.length)\r\n      if (this.check === true) {\r\n        for (let i = 0; i < this.myCart.ticket.length; i++) {\r\n          if (this.myCart.ticket[i].checked === false) {\r\n            this.myCart.ticket[i].checked = true;\r\n          }\r\n        }\r\n      } else {\r\n        for (let i = 0; i < this.myCart.ticket.length; i++) {\r\n          if (this.myCart.ticket[i].checked === true) {\r\n            this.myCart.ticket[i].checked = false;\r\n          }\r\n        }\r\n      }\r\n      this.selectedBook();\r\n    },\r\n    addToConfirm(){\r\n        // localStorage.setItem('total', this.total)\r\n        localStorage.setItem(\"total\", JSON.stringify(this.total))\r\n        // window.localStorage.clear();\r\n    },\r\n    addQuantity(ticket_id) {\r\n      this.myCart.ticket[ticket_id].quantity += 1;\r\n      this.selectedBook();\r\n    },\r\n    lowquantity(ticket_id) {\r\n        if (this.myCart.ticket[ticket_id].quantity > 0) {\r\n            this.myCart.ticket[ticket_id].quantity -= 1;\r\n            this.selectedBook();\r\n            let delTicket = this.myCart.ticket.filter(\r\n            (val) => val.quantity !== 0\r\n            );\r\n            this.myCart.ticket = delTicket\r\n\r\n            var del = JSON.parse(localStorage.getItem(\"myCart\"));\r\n            del.ticket = delTicket\r\n            localStorage.setItem(\"myCart\", JSON.stringify(del));\r\n        }\r\n      }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n@import url(\"https://fonts.googleapis.com/css2?family=Prompt:wght@300&family=Sarabun:wght@300&display=swap\");\r\n* {\r\n  font-family: \"Prompt\", sans-serif;\r\n  font-family: \"Sarabun\", sans-serif;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartPage.vue?vue&type=template&id=615ee73e&\"\nimport script from \"./CartPage.vue?vue&type=script&lang=js&\"\nexport * from \"./CartPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartPage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","_l","myCart","item","index","key","directives","name","rawName","value","expression","attrs","domProps","Array","isArray","checked","_i","on","$event","$$a","$$el","target","$$c","$$v","$$i","$set","concat","slice","selectedBook","apiURL","pic","_s","nameOfticket","price","ticket","myDate","lowquantity","quantity","addQuantity","check","allselected","total","addToConfirm","staticRenderFns","data","filter1","mounted","showCart","computed","methods","JSON","parse","localStorage","getItem","filter","val","console","log","length","i","ticket_id","del","component"],"sourceRoot":""}