"use strict";(self["webpackChunkmyfrontend"]=self["webpackChunkmyfrontend"]||[]).push([[688],{6688:function(t,i,e){e.r(i),e.d(i,{default:function(){return d}});var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"body"},[a("div",{staticClass:"headbook"},[a("div",{staticClass:"mt-5",staticStyle:{width:"100px"}},[a("img",{staticStyle:{width:"70%","padding-top":"50px","padding-left":"20px"},attrs:{src:e(3778)}})]),t._m(0)]),a("div",{staticClass:"displayflex blockbig"},[a("div",{staticClass:"pic",staticStyle:{width:"30%"}},[a("img",{staticStyle:{width:"100%"},attrs:{src:e(6887)}})]),a("div",{staticClass:"detail"},[a("div",{staticClass:"nameoftik"},[t._v(t._s(t.promotion.pmt_name))]),""===t.ticket?a("div",{staticClass:"displayflex",staticStyle:{"background-color":"#f6f6f6","margin-bottom":"15px",width:"500px"}},[a("div",{staticStyle:{color:"#7e7c7c","margin-left":"20px","margin-top":"4px"}},[a("strike",[t._v("฿"+t._s(t.promotion.price_normal_adult))])],1),t._v("     "),a("div",{staticStyle:{color:"#250096","font-size":"20px"}},[t._v(" ฿"+t._s(t.promotion.price_pmt_kid)+" - ฿"+t._s(t.promotion.price_pmt_adult)+" ")])]):"kid"===t.ticket?a("div",{staticClass:"displayflex",staticStyle:{"background-color":"#f6f6f6","margin-bottom":"15px",width:"500px"}},[a("div",{staticStyle:{color:"#7e7c7c","margin-left":"20px","margin-top":"4px"}},[a("strike",[t._v("฿"+t._s(t.promotion.price_normal_kid))])],1),t._v("     "),a("div",{staticStyle:{color:"#250096","font-size":"20px"}},[t._v("฿"+t._s(t.price))])]):"adult"===t.ticket?a("div",{staticClass:"displayflex",staticStyle:{"background-color":"#f6f6f6","margin-bottom":"15px",width:"500px"}},[a("div",{staticStyle:{color:"#7e7c7c","margin-left":"20px","margin-top":"4px"}},[a("strike",[t._v("฿"+t._s(t.promotion.price_normal_adult))])],1),t._v("     "),a("div",{staticStyle:{color:"#250096","font-size":"20px"}},[t._v("฿"+t._s(t.price))])]):t._e(),a("div",{staticClass:"displayflex"},[a("div",[t._v("ตัวเลือก")]),t._v("     "),a("div",[a("div",{staticClass:"select is-info",staticStyle:{"margin-left":"6px"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.ticket,expression:"ticket"}],on:{change:[function(i){var e=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){var i="_value"in t?t._value:t.value;return i}));t.ticket=i.target.multiple?e:e[0]},t.setPrice]}},[a("option",{attrs:{value:"kid"}},[t._v("บัตรเด็ก")]),a("option",{attrs:{value:"adult"}},[t._v("บัตรผู้ใหญ่")])])])])]),a("div",{staticClass:"displayflex"},[a("div",[t._v("วันเข้าชม")]),t._v("     "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.myDate,expression:"myDate"}],staticClass:"input is-info",attrs:{min:new Date((new Date).getTime()-60*(new Date).getTimezoneOffset()*1e3).toISOString().split("T")[0],type:"date",placeholder:"Text input"},domProps:{value:t.myDate},on:{input:function(i){i.target.composing||(t.myDate=i.target.value)}}})])]),a("div",{staticClass:"displayflex"},[a("div",[t._v("จำนวน")]),t._v("     "),a("div",[a("button",{staticClass:"button",on:{click:t.lowQuantity}},[t._v("-")])]),t._v("   "),a("div",[a("button",{staticClass:"button"},[t._v(t._s(t.quantity))])]),t._v("   "),a("div",[a("button",{staticClass:"button",on:{click:t.addQuantity}},[t._v("+")])])]),a("div",{staticClass:"displayflex"},[a("div",[a("button",{staticClass:"button is-link is-outlined",on:{click:t.addToCart}},[a("p",[t._v("เพิ่มไปยังตระกร้า")])])]),t._v("     "),a("div",[a("router-link",{staticClass:"has-text-white",attrs:{to:"/user/confirm"}},[a("button",{staticClass:"button is-link",on:{click:t.Toconfirm}},[a("p",[t._v("ซื้อสินค้า")])])])],1)])])])])},s=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"mt-5"},[e("div",{staticStyle:{"font-size":"40px"}},[t._v("จองบัตรเข้าชมออนไลน์")]),e("div",{staticStyle:{"margin-top":"-20px"}},[t._v("จองตอนนี้พร้อมสิทธิพิเศษมากมาย")])])}],o=e(6166),l=e.n(o),c={data(){return{promotion:[],cart:[],ticket:"",myDate:"",price:"",quantity:1,nameOfticket:"",total:0}},mounted(){this.getprofileDetail(this.$route.params.id)},computed:{},methods:{getprofileDetail(t){l().get("http://3.215.49.113:3000/user/promotion").then((i=>{console.log(i),this.promotion=i.data.promotion[t]})).catch((t=>{this.error=t.response.data.message}))},addQuantity(){this.quantity+=1},lowQuantity(){this.quantity>1&&(this.quantity-=1)},setPrice(){"kid"===this.ticket?this.price=this.promotion.price_pmt_kid:"adult"===this.ticket&&(this.price=this.promotion.price_pmt_adult)},addToCart(){let t={pic:this.promotion.file_path,ticket:this.ticket,myDate:this.myDate,price:this.price,quantity:this.quantity,nameOfticket:this.promotion.pmt_name,checked:!1};if(""==this.myDate||""==this.ticket)alert("Please choose date or ticket type.");else{var i=JSON.parse(localStorage.getItem("myCart"));console.log(JSON.parse(localStorage.getItem("myCart"))),console.log(i),i.ticket.push(t),console.log(i),localStorage.setItem("myCart",JSON.stringify(i)),alert("Add to cart success.")}},Toconfirm(){localStorage.setItem("myDate",JSON.stringify(this.myDate)),this.total=this.price*this.quantity,localStorage.setItem("total",JSON.stringify(this.total))}}},n=c,r=e(1001),p=(0,r.Z)(n,a,s,!1,null,null,null),d=p.exports},3778:function(t,i,e){t.exports=e.p+"img/fishpng.53df1127.png"}}]);
//# sourceMappingURL=688.875c718c.js.map