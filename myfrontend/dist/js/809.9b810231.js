"use strict";(self["webpackChunkmyfrontend"]=self["webpackChunkmyfrontend"]||[]).push([[809],{5809:function(t,a,e){e.r(a),e.d(a,{default:function(){return p}});var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"bodyall"},[t._m(0),s("div",{staticClass:"container is-max-desktop",staticStyle:{"padding-bottom":"5%","justify-content":"center",display:"flex"}},[s("div",{staticClass:"notification block1"},[t._v(" ธนาคาร "),s("div",{staticClass:"flex-container",staticStyle:{display:"flex","flex-direction":"row"}},[s("div",{staticClass:"bank button",on:{click:function(a){return t.bank(1)}}},[s("img",{staticStyle:{width:"30%","margin-right":"3%"},attrs:{src:e(7006)}}),t._v(" ธนาคารกสิกร ")]),s("div",{staticClass:"button bank",on:{click:function(a){return t.bank(2)}}},[s("img",{staticStyle:{width:"30%","margin-right":"3%"},attrs:{src:e(6503)}}),t._v(" ธนาคารกรุงเทพ ")]),s("div",{staticClass:"button bank",on:{click:function(a){return t.bank(3)}}},[s("img",{staticStyle:{width:"30%","margin-right":"3%"},attrs:{src:e(4349)}}),t._v(" ธนาคารกรุงไทย ")])]),s("div",{staticClass:"flex-container",staticStyle:{display:"flex","flex-direction":"row"}},[s("div",{staticStyle:{"margin-right":"7%",width:"350px"}},[t._v(" ชื่อ "),s("input",{staticClass:"input",attrs:{type:"text",placeholder:"",readonly:""},domProps:{value:t.user.first_name}})]),s("div",{staticStyle:{width:"350px"}},[t._v(" นามสกุล "),s("input",{staticClass:"input",attrs:{type:"text",placeholder:"",readonly:""},domProps:{value:t.user.last_name}})])]),t._v(" ยอดชำระเงิน "),s("div",{staticStyle:{width:"350px"}},[s("input",{staticClass:"input",attrs:{type:"text",placeholder:"baht",readonly:""},domProps:{value:t.total}})]),t._v(" หลักฐานการชำระเงิน "),s("div",{staticClass:"file has-name"},[s("label",{staticClass:"file-label"},[s("input",{staticClass:"file-input",attrs:{type:"file",name:"resume",required:"",accept:"image/png, image/jpeg, image/webp"},on:{change:t.selectImages}}),t._m(1),""===t.images&&void 0===t.images?s("span",{staticClass:"file-name"}):s("span",{staticClass:"file-name"},[t._v(" "+t._s(t.images.name)+" ")])])]),s("div",{staticClass:"buttons flex-container",staticStyle:{width:"755px","justify-content":"flex-end","margin-top":"5%"}},[s("router-link",{staticClass:"has-text-white",attrs:{to:"/user/cart"}},[s("button",{staticClass:"button is-dark mr-5"},[t._v("ยกเลิก")])]),s("button",{staticClass:"button is-link",on:{click:t.submit}},[t._v("ยืนยัน")])],1)])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container is-max-desktop headtext"},[e("h1",{staticClass:"mt-6"},[t._v("ยืนยันการชำระเงิน")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"file-cta"},[e("span",{staticClass:"file-icon"},[e("i",{staticClass:"fas fa-upload"})]),e("span",{staticClass:"file-label"},[t._v(" Choose a file… ")])])}],n=e(6166),l=e.n(n),r={data(){return{user:[],total:0,images:"",bank_name:""}},mounted(){this.onAuthChange()},methods:{onAuthChange(){const t=localStorage.getItem("token");t&&this.getUser()},getUser(){const t=localStorage.getItem("token");l().get("http://3.215.49.113:3000/user/me",{headers:{Authorization:"Bearer "+t}}).then((t=>{this.user=t.data,this.total=JSON.parse(localStorage.getItem("total"))}))},selectImages(t){this.images=t.target.files[0],console.log(this.images),console.log("4444")},bank(t){1==t&&(this.bank_name="kasikorn"),2==t&&(this.bank_name="krungthep"),3==t&&(this.bank_name="krungthai")},submit(){console.log("submit");let t=new FormData;t.append("order_status","pending"),t.append("order_price",this.total),t.append("bank_name",this.bank_name),t.append("user_id",this.user.user_id),t.append("myImage",this.images),l().post("http://3.215.49.113:3000/user/confimepayment",t).then((t=>{console.log(t),this.$router.push("/user/finish")})).catch((t=>{alert(t.response.data.details.message)}))}}},o=r,c=e(1001),u=(0,c.Z)(o,s,i,!1,null,null,null),p=u.exports},7006:function(t,a,e){t.exports=e.p+"img/bank01.e68a585c.png"},6503:function(t,a,e){t.exports=e.p+"img/bank02.507dca32.png"},4349:function(t,a,e){t.exports=e.p+"img/bank03.6e2bdbc0.png"}}]);
//# sourceMappingURL=809.9b810231.js.map