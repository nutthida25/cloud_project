"use strict";(self["webpackChunkmyfrontend"]=self["webpackChunkmyfrontend"]||[]).push([[742],{2742:function(t,e,c){c.r(e),c.d(e,{default:function(){return n}});var i=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"hero is-fullheight",staticStyle:{"background-color":"#1a132f"}},[c("div",{staticStyle:{margin:"6rem"}},[c("p",{staticClass:"is-size-2 has-text-white"},[t._v("ตระกร้าสินค้า")]),t._l(t.myCart.ticket,(function(e,i){return c("div",{key:e.index,staticClass:"hero-body is-large has-background-white mt-5 p-4"},[c("label",{staticClass:"checkbox mr-6"},[c("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"item.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:[function(c){var i=e.checked,a=c.target,s=!!a.checked;if(Array.isArray(i)){var r=null,l=t._i(i,r);a.checked?l<0&&t.$set(e,"checked",i.concat([r])):l>-1&&t.$set(e,"checked",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(e,"checked",s)},t.selectedBook]}})]),c("img",{staticClass:"image mr-6",attrs:{src:t.apiURL+e.pic,alt:"รูปตั๋ว",width:"200rem",height:"100rem"}}),c("div",{staticStyle:{width:"13rem"}},[c("p",{staticClass:"has-text-black is-size-5"},[t._v(t._s(e.nameOfticket))]),c("p",[t._v(t._s(e.price)+"฿")]),c("p",[t._v(t._s(e.ticket))]),c("p",[t._v("วันเข้าชม "+t._s(e.myDate))])]),c("div",{staticClass:"control",staticStyle:{"margin-top":"4rem","margin-left":"17rem"}},[c("button",{staticClass:"button m-2",on:{click:function(e){return t.lowquantity(i)}}},[t._v("-")]),c("button",{staticClass:"button m-2"},[t._v(t._s(e.quantity))]),c("button",{staticClass:"button m-2",on:{click:function(e){return t.addQuantity(i)}}},[t._v("+")])])])}))],2),c("div",{staticClass:"has-background-white level",staticStyle:{position:"sticky"}},[c("div",{staticClass:"hero-body p-5 level-left"},[c("label",{staticClass:"checkbox mr-4"},[c("input",{directives:[{name:"model",rawName:"v-model",value:t.check,expression:"check"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.check)?t._i(t.check,null)>-1:t.check},on:{change:[function(e){var c=t.check,i=e.target,a=!!i.checked;if(Array.isArray(c)){var s=null,r=t._i(c,s);i.checked?r<0&&(t.check=c.concat([s])):r>-1&&(t.check=c.slice(0,r).concat(c.slice(r+1)))}else t.check=a},t.allselected]}})]),c("p",[t._v("ทั้งหมด")])]),c("div",{staticClass:"hero-body level-right p-0"},[c("p",{staticClass:"mr-6"},[t._v(t._s(t.total))]),c("div",{staticClass:"has-background-link has-text-white p-5",on:{click:t.addToConfirm}},[c("router-link",{staticClass:"has-text-white",attrs:{to:"/user/confirm"}},[c("p",[t._v("ชำระแล้ว")])])],1)])])])},a=[],s=(c(7327),c(1539),c(8862),{data:function(){return{myCart:[],total:0,apiURL:"http://3.215.49.113:3000",filter1:[],check:!1}},mounted:function(){this.showCart(),this.selectedBook()},computed:{},methods:{showCart:function(){this.myCart=JSON.parse(localStorage.getItem("myCart"))},selectedBook:function(){0!==this.total&&(this.total=0);var t=this.myCart.ticket.filter((function(t){return!0===t.checked}));console.log(t),console.log(t.length);for(var e=0;e<t.length;e++)this.total+=t[e].quantity*t[e].price;console.log(this.total)},allselected:function(){if(!0===this.check)for(var t=0;t<this.myCart.ticket.length;t++)!1===this.myCart.ticket[t].checked&&(this.myCart.ticket[t].checked=!0);else for(var e=0;e<this.myCart.ticket.length;e++)!0===this.myCart.ticket[e].checked&&(this.myCart.ticket[e].checked=!1);this.selectedBook()},addToConfirm:function(){localStorage.setItem("total",JSON.stringify(this.total))},addQuantity:function(t){this.myCart.ticket[t].quantity+=1,this.selectedBook()},lowquantity:function(t){if(this.myCart.ticket[t].quantity>0){this.myCart.ticket[t].quantity-=1,this.selectedBook();var e=this.myCart.ticket.filter((function(t){return 0!==t.quantity}));this.myCart.ticket=e;var c=JSON.parse(localStorage.getItem("myCart"));c.ticket=e,localStorage.setItem("myCart",JSON.stringify(c))}}}}),r=s,l=c(1001),o=(0,l.Z)(r,i,a,!1,null,null,null),n=o.exports}}]);
//# sourceMappingURL=742-legacy.6ebf378d.js.map