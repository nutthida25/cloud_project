"use strict";(self["webpackChunkmyfrontend"]=self["webpackChunkmyfrontend"]||[]).push([[307],{4307:function(t,s,e){e.r(s),e.d(s,{default:function(){return m}});var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"level"},[a("div",{staticClass:"hero level-item is-fullheight p-6",staticStyle:{"background-color":"#61A4BC"}},[a("p",{staticClass:"title has-text-centered mb-5 has-text-white mt-6"},[t._v(" User Profile ")]),a("div",{staticClass:"columns is-centered"},[a("figure",{staticClass:"image"},[a("img",{staticClass:"profile-pic",attrs:{src:e(6887)}})])]),a("p",{staticClass:"is-size-3 has-text-centered mb-6 has-text-white"},[t._v(" "+t._s(t.user.username)+" ")])]),a("div",{staticClass:"hero level-item is-fullheight column is-5",staticStyle:{"background-color":"#61A4BC"}},[a("div",{staticClass:"pt-6 pb-6 ml-6 mr-6",staticStyle:{"margin-top":"6rem","background-color":"#85B8CB"}},[a("div",{staticClass:"field"},[a("div",{staticClass:"control level"},[a("div",[a("label",{staticClass:"label has-text-white ml-6"},[t._v("ชื่อ")]),a("input",{staticClass:"input ml-6 level-item",staticStyle:{width:"13rem"},attrs:{type:"text",readonly:""},domProps:{value:t.user.first_name}})]),a("div",[a("label",{staticClass:"label has-text-white mr-6"},[t._v("นามสกุล")]),a("input",{staticClass:"input mr-6 level-item",staticStyle:{width:"13rem"},attrs:{type:"text",readonly:""},domProps:{value:t.user.last_name}})])])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control level"},[a("div",[a("label",{staticClass:"label has-text-white ml-6"},[t._v("เบอร์โทร")]),a("input",{staticClass:"input ml-6 level-item",staticStyle:{width:"13rem"},attrs:{type:"text",readonly:""},domProps:{value:t.user.mobile}})]),a("div",[a("label",{staticClass:"label has-text-white mr-6"},[t._v("อีเมล")]),a("input",{staticClass:"input mr-6 level-item",staticStyle:{width:"13rem"},attrs:{type:"text",readonly:""},domProps:{value:t.user.email}})])])]),a("p",{staticClass:"mt-3 ml-6 has-text-link",staticStyle:{cursor:"pointer"},on:{click:t.showChangepw}},[t._v("เปลี่ยนรหัสผ่าน?")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"p-2 ml-6 mr-6 mb-6",staticStyle:{"background-color":"#85B8CB"}},[a("div",{staticClass:"field"},[a("div",{staticClass:"control level"},[a("div",[a("label",{staticClass:"label has-text-white ml-5"},[t._v("รหัสเก่า")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPW,expression:"oldPW"}],staticClass:"input level-item mb-4 ml-5",staticStyle:{width:"12rem"},attrs:{type:"password"},domProps:{value:t.oldPW},on:{input:function(s){s.target.composing||(t.oldPW=s.target.value)}}})]),a("div",[a("label",{staticClass:"label has-text-white"},[t._v("รหัสใหม่")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.password.$model,expression:"$v.password.$model"}],staticClass:"input level-item mb-4",class:{"is-danger":t.$v.password.$error},staticStyle:{width:"12rem"},attrs:{type:"password"},domProps:{value:t.$v.password.$model},on:{input:function(s){s.target.composing||t.$set(t.$v.password,"$model",s.target.value)}}}),t.$v.password.$error?[t.$v.password.required?t._e():a("p",{staticClass:"help is-danger"},[t._v("This field is required")]),t.$v.password.minLength?t._e():a("p",{staticClass:"help is-danger"},[t._v("Must be at least 8 character")])]:t._e()],2),a("p",{staticClass:"has-text-right mt-3 mr-5"},[a("button",{staticClass:"button is-link",on:{click:function(s){return t.changePw(t.user.user_id)}}},[t._v("ยืนยัน")])])])])])])])},i=[],l=e(6166),r=e.n(l),o=e(6409),n={data:function(){return{user:[],apiURL:"http://3.215.49.113:3000",show:!1,oldPW:"",password:""}},mounted:function(){this.getprofileDetail(this.$route.params.id)},methods:{getprofileDetail:function(t){var s=this;console.log(t+"gggg"),r().get("http://3.215.49.113:3000/user/profileMe/"+t).then((function(t){s.user=t.data.user[0],console.log(s.user)})).catch((function(t){s.error=t.response.data.message}))},showChangepw:function(){0==this.show?this.show=!0:this.show=!1},changePw:function(t){var s=this;this.$v.$touch(),this.$v.$invalid||r().post("http://3.215.49.113:3000/user/change/"+t,{oldpw:this.oldPW,newpw:this.password}).then((function(t){console.log(t),alert("Change password success"),s.show=!1})).catch((function(t){s.error=t.response.data.message}))}},validations:{password:{required:o.C1,minLength:(0,o.Ei)(8)}}},c=n,d=e(1001),u=(0,d.Z)(c,a,i,!1,null,null,null),m=u.exports}}]);
//# sourceMappingURL=307-legacy.255380ed.js.map