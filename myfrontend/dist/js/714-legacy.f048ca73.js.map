{"version":3,"file":"js/714-legacy.f048ca73.js","mappings":"gKAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqBC,YAAY,CAAC,mBAAmB,YAAY,CAACH,EAAG,MAAM,CAACG,YAAY,CAAC,OAAS,SAAS,CAACH,EAAG,IAAI,CAACE,YAAY,6BAA6B,CAACN,EAAIQ,GAAG,iBAAiBR,EAAIS,GAAIT,EAAS,OAAE,SAASU,GAAM,OAAON,EAAG,MAAM,CAACO,IAAID,EAAKE,MAAMN,YAAY,oBAAoBC,YAAY,CAAC,mBAAmB,YAAY,CAACH,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACE,YAAY,wBAAwB,CAACN,EAAIQ,GAAG,eAAeR,EAAIa,GAAGH,EAAKI,aAAaV,EAAG,SAAS,CAACE,YAAY,uCAAuC,CAACN,EAAIQ,GAAGR,EAAIa,GAAGH,EAAKK,mBAAmBX,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACY,MAAM,CAAC,IAAM,EAAQ,MAAqB,IAAM,UAAU,MAAQ,QAAQ,OAAS,WAAWZ,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACJ,EAAIQ,GAAG,gBAAgBR,EAAIa,GAAGH,EAAKO,YAAYb,EAAG,IAAI,CAACJ,EAAIQ,GAAG,oBAAoBR,EAAIa,GAAGH,EAAKQ,gBAAgBd,EAAG,IAAI,CAACJ,EAAIQ,GAAG,gBAAgBR,EAAIa,GAAGb,EAAImB,YAAYT,EAAKU,0BAAyB,MACnhCC,EAAkB,G,mBCyBtB,GACEC,KADF,WAEI,MAAO,CACLC,MAAO,GACPC,KAAM,GACNC,KAAM,KAGVC,QARF,WASIzB,KAAK0B,gBAIPC,QAAS,CACPT,YADJ,SACAU,GACM,IAAN,cACM,OAAOC,EAAGC,mBAAmB,SAAnC,mCAEIC,eALJ,SAKAC,GAAA,WACMC,IAAAA,IACN,iDACAC,MAAA,YACQ,QAARC,IAAAA,GACQ,EAAR,sBAEAC,OAAA,YACQ,EAAR,kCAGIV,aAhBJ,WAiBM,IAAN,gCACA,GACQ,KAAR,UAEM,QAANS,IAAAA,IAEI,QAvBJ,WAuBM,IAAN,OACA,gCACMF,IAAAA,IAAAA,mCAAAA,CAAE,QAARI,CAAU,cAAVC,UAAAA,KAAA,kBACQ,EAAR,YAEQ,EAAR,+BACQ,QAARH,IAAAA,EAAAA,KAAAA,SACQ,QAARA,IAAAA,EAAAA,YCrEyQ,I,UCQrQI,GAAY,OACd,EACAzC,EACAsB,GACA,EACA,KACA,KACA,MAIF,EAAemB,EAAiB,S","sources":["webpack://myfrontend/./src/views/PayfinishPage.vue?df52","webpack://myfrontend/src/views/PayfinishPage.vue","webpack://myfrontend/./src/views/PayfinishPage.vue?a019","webpack://myfrontend/./src/views/PayfinishPage.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hero is-fullheight\",staticStyle:{\"background-color\":\"#1A132F\"}},[_c('div',{staticStyle:{\"margin\":\"6rem\"}},[_c('p',{staticClass:\"is-size-2\\thas-text-white\"},[_vm._v(\"สถานะ Order\")]),_vm._l((_vm.order),function(item){return _c('div',{key:item.index,staticClass:\"is-large mt-5 p-4\",staticStyle:{\"background-color\":\"#EBEBFF\"}},[_c('div',{staticClass:\"level\"},[_c('p',{staticClass:\"is-size-5 level-left\"},[_vm._v(\"รหัส Order: \"+_vm._s(item.order_id))]),_c('strong',{staticClass:\"is-size-5 level-right has-text-link\"},[_vm._v(_vm._s(item.order_status))])]),_c('div',{staticClass:\"hero-body p-5\"},[_c('img',{attrs:{\"src\":require('../assets/thx.jpg'),\"alt\":\"รูปตั๋ว\",\"width\":\"200em\",\"height\":\"100em\"}}),_c('div',{staticClass:\"ml-6\"},[_c('p',[_vm._v(\"รหัสผู้ซื้อ: \"+_vm._s(item.user_id))]),_c('p',[_vm._v(\"รวมการสั่งซื้อ: ฿\"+_vm._s(item.order_price))]),_c('p',[_vm._v(\"วันชำระเงิน: \"+_vm._s(_vm.tolocaldate(item.order_date)))])])])])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"hero is-fullheight\" style=\"background-color: #1A132F;\">\r\n            <div style=\"margin: 6rem;\">\r\n                <p class=\"is-size-2\thas-text-white\">สถานะ Order</p>\r\n                <div class=\"is-large mt-5 p-4\" style=\"background-color: #EBEBFF;\" v-for=\"item in order\" :key=\"item.index\">\r\n                    <div class=\"level\">\r\n                        <p class=\"is-size-5 level-left\">รหัส Order: {{item.order_id}}</p>\r\n                        <strong class=\"is-size-5 level-right has-text-link\">{{item.order_status}}</strong>\r\n                    </div>\r\n                    <div class=\"hero-body p-5\">\r\n                        <img :src=\"require('../assets/thx.jpg')\" alt=\"รูปตั๋ว\" width=\"200em\" height=\"100em\">\r\n                        <div class=\"ml-6\">\r\n                            <p>รหัสผู้ซื้อ: {{item.user_id}}</p>\r\n                            <p>รวมการสั่งซื้อ: ฿{{item.order_price}}</p>\r\n                            <p>วันชำระเงิน: {{ tolocaldate(item.order_date) }}</p>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      order: [],\r\n      user: [],\r\n      time: \"\"\r\n    };\r\n  },\r\n  mounted() {\r\n    this.onAuthChange()\r\n    // this.getOrderDetail();\r\n    // this.onAuthChange()\r\n  },\r\n  methods: {\r\n    tolocaldate(datetime){\r\n      const dt = new Date(datetime)\r\n      return dt.toLocaleDateString('en-ES')+\" \"+ dt.toLocaleTimeString('th-TH')\r\n    },\r\n    getOrderDetail(id) {\r\n      axios\r\n        .get(\"http://3.215.49.113:3000/user/order/finish/\"+id)\r\n        .then((response) => {\r\n          console.log(response);\r\n          this.order = response.data.order;\r\n        })\r\n        .catch((error) => {\r\n          this.error = error.response.data.message;\r\n        });\r\n    },\r\n    onAuthChange () {\r\n          const token = localStorage.getItem('token')\r\n          if (token) {\r\n            this.getUser()\r\n          }\r\n          console.log(token)\r\n        },\r\n      getUser () {\r\n          const token = localStorage.getItem('token')\r\n          axios.get('http://3.215.49.113:3000/user/me', { headers: {Authorization: 'Bearer ' + token} }).then(res => {\r\n            this.user = res.data\r\n            // this.$router.push({path: '/'})\r\n            this.getOrderDetail(this.user.user_id)\r\n            console.log(this.user.user_id)\r\n            console.log(this.user)\r\n          })\r\n        },\r\n    \r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n    @import url('https://fonts.googleapis.com/css2?family=Prompt:wght@300&family=Sarabun:wght@300&display=swap');\r\n    *{\r\n        font-family: 'Prompt', sans-serif;\r\n        font-family: 'Sarabun', sans-serif;  \r\n    }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PayfinishPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PayfinishPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PayfinishPage.vue?vue&type=template&id=22288768&\"\nimport script from \"./PayfinishPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PayfinishPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PayfinishPage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","_l","item","key","index","_s","order_id","order_status","attrs","user_id","order_price","tolocaldate","order_date","staticRenderFns","data","order","user","time","mounted","onAuthChange","methods","datetime","dt","toLocaleDateString","getOrderDetail","id","axios","then","console","catch","headers","Authorization","component"],"sourceRoot":""}