"use strict";(self["webpackChunkmyfrontend"]=self["webpackChunkmyfrontend"]||[]).push([[188],{5188:function(t,e,o){o.r(e),o.d(e,{default:function(){return d}});var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"headbody"},[s("div",[s("img",{staticClass:"shark",attrs:{src:o(7408)}})]),s("div",{staticClass:"promo"},[t._v(" โปรโมชั่น ")]),s("div",{staticClass:"promo promo2"},[t._v(" ซื้อตั๋วออนไลน์ถูกกว่า ")]),s("div",{staticClass:"flex-container cardpromotion"},t._l(t.promotion,(function(e){return s("div",{key:e.promotion_id,staticClass:"card"},[s("div",{staticClass:"card-image"},[s("figure",{staticClass:"image is-4by3"},[s("img",{attrs:{src:t.apiURL+e.file_path,alt:"Placeholder image"}})])]),s("div",{staticClass:"card-content"},[s("div",{staticClass:"content",staticStyle:{height:"5rem"}},[t._v(" "+t._s(e.pmt_name)+" ")]),t.user?s("button",{staticClass:"button is-danger"},[s("router-link",{staticClass:"has-text-white",attrs:{to:{name:"Booking",params:{id:e.promotion_id-1}}}},[t._v("BUY NOW")])],1):t._e(),s("p",{staticStyle:{"margin-left":"3px"}},[t._v("฿"+t._s(e.price_pmt_kid))])])])})),0)])},a=[],i=o(6166),n=o.n(i),r={data:function(){return{promotion:[],user:null,apiURL:"http://3.215.49.113:3000"}},mounted:function(){this.getprofileDetail(),this.onAuthChange()},methods:{getprofileDetail:function(){var t=this;n().get("http://3.215.49.113:3000/user/promotion").then((function(e){console.log(e),t.promotion=e.data.promotion})).catch((function(e){t.error=e.response.data.message}))},onAuthChange:function(){var t=localStorage.getItem("token");t&&this.getUser(),console.log(t)},getUser:function(){var t=this,e=localStorage.getItem("token");n().get("http://3.215.49.113:3000/user/me",{headers:{Authorization:"Bearer "+e}}).then((function(e){t.user=e.data,console.log(t.user.user_id),console.log(t.user)}))}}},c=r,l=o(1001),u=(0,l.Z)(c,s,a,!1,null,null,null),d=u.exports},7408:function(t,e,o){t.exports=o.p+"img/shark1.6b4b73c3.jpg"}}]);
//# sourceMappingURL=188-legacy.6ab1e739.js.map